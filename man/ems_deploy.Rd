% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ems_deploy.R
\name{ems_deploy}
\alias{ems_deploy}
\title{Loads, validates, and writes all model components}
\usage{
ems_deploy(
  data,
  model,
  shock = NULL,
  swap_in = NULL,
  swap_out = NULL,
  write_dir = tools::R_user_dir("teems", "cache"),
  closure_file = NULL,
  shock_file = NULL
)
}
\arguments{
\item{data}{A list of data.tables generated by the function
\code{\link[=ems_data]{ems_data()}} or equivalent.}

\item{model}{A tibble generated by the function
\code{\link[=ems_model]{ems_model()}} or equivalent.}

\item{shock}{A \code{shock} object or in the case of multiple
shocks, list of objects produced by \code{\link[=ems_shock]{ems_shock()}} (default
is \code{NULL}). In the case of \code{NULL}, a \code{NULL} shock will be
carried out which effectively returns base data.}

\item{swap_in}{Character vector (default is \code{NULL}), or \code{swap}
object created by \code{\link[=ems_swap]{ems_swap()}}, or a list of any
combination of character vectors and swap objects.
Represents model variable or variables to be made exogenous.}

\item{swap_out}{Character vector (default is \code{NULL}), or
\code{swap} object created by \code{\link[=ems_swap]{ems_swap()}}, or a list of any
combination of character vectors and swap objects.
Represents model variable or variables to be made
endogenous.}

\item{write_dir}{Character of length 1 (default is
\code{tools::R_user_dir("teems", "cache")}), directory where
input files will be written and model solution will be
carried out. If persistence is desired, a user-provided
directory must be provided.}

\item{closure_file}{A character of length 1 (default is
\code{NULL}). File name in working directory or path to a ".cls"
closure file. See
\href{https://github.com/teems-org/teems-models}{teems-models}
for internally available closures and formatting for
user-provided closures.}

\item{shock_file}{Character of length 1, file name in working
directory or path to a csv representing the final shock
file. No checks or modifications will be conducted on this
file.}
}
\value{
File path to a CMF file necessary to execute
\code{\link[=ems_solve]{ems_solve()}}.
}
\description{
\code{ems_deploy()} combines outputs from all model
components, producing a solution-ready directory. Outputs
from \code{\link[=ems_data]{ems_data()}} and \code{\link[=ems_model]{ems_model()}} are required inputs
to \code{"data"}, \code{"model"} respectively.
}
\details{
\code{ems_deploy()} consolidates all user inputs and
carries out all operations necessary to run a CGE model. The
output file path serves as a required input to
\code{\link[=ems_solve]{ems_solve()}}.
}
\examples{
\dontrun{
# See \href{https://github.com/teems-org/teems-scripts}{teems-scripts}
# for a range of sample scripts.
}
}
\seealso{
\code{\link[=ems_model]{ems_model()}} for generating the input to
\code{"model"}.

\code{\link[=ems_data]{ems_data()}} for generating the input to
\code{"data"}.

\code{\link[=ems_shock]{ems_shock()}} for generating the input to
\code{"shock"}.

\code{\link[=ems_swap]{ems_swap()}} for loading both full variable swaps
as well as element-specific swaps.

\code{\link[=ems_solve]{ems_solve()}} for loading the output of this
function.
}
