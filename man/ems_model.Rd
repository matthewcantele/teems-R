% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ems_model.R
\name{ems_model}
\alias{ems_model}
\title{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}} Load general model specifications}
\usage{
ems_model(
  tab_file,
  var_omit = NULL,
  closure_file = NULL,
  swap_in = NULL,
  swap_out = NULL,
  shock_file = NULL,
  shock = NULL,
  notes = NULL
)
}
\arguments{
\item{tab_file}{Character of length 1, path to a local Tablo model file or
selection of an internal Tablo file. Currently supported internal Tablo
model files can be viewed with ().}

\item{var_omit}{A character vector (default is \code{NULL}). Variables to be
removed from the Tablo model file as well as from the designated closure
(if present).}

\item{closure_file}{A character of length 1 (default is \code{NULL}). File name in
working directory or path to a ".cls" closure file.}

\item{swap_in}{Character vector (default is \code{NULL}), or \code{swap} object created
by \code{\link[=ems_swap]{ems_swap()}}, or a list of any combination of character vectors and
swap objects. Represents model variable or variables to be made exogenous.}

\item{swap_out}{Character vector (default is \code{NULL}), or \code{swap} object
created by \code{\link[=ems_swap]{ems_swap()}}, or a list of any combination of character
vectors and swap objects. Represents model variable or variables to be made
endogenous.}

\item{shock_file}{Character of length 1, file name in working directory or
path to a csv representing the final shock file. No checks or modifications
will be conducted on this file.}

\item{shock}{A \code{shock} object or in the case of multiple shocks, list of
objects produced by \code{\link[=ems_shock]{ems_shock()}} (default is \code{NULL}). In the case of
\code{NULL}, a \code{NULL} shock will be carried out which effectively returns the
base data.}

\item{notes}{Character string (default is \code{NULL}). If not \code{NULL} notes will
be written to a .txt file within the model-specific directory generated by
\code{\link[=ems_deploy]{ems_deploy()}}.}
}
\value{
A list of general model configuration options to be passed to the
\code{model_config} argument of \code{\link[=ems_deploy]{ems_deploy()}}.
}
\description{
\code{ems_model()} loads general model specifications, conducts
pre-pipeline checks, and determines temporal dynamics. The output of this
function is a required input to the \code{"model_config"} argument within the
\code{\link[=ems_deploy]{ems_deploy()}} function.
}
\details{
\code{ems_model()} return values have no purpose used in isolation and
are rather combined with user inputs in other \code{teems} package functions
within \code{\link[=ems_deploy]{ems_deploy()}} to produce a path-dependent pipeline resulting in
solver-ready input files for \code{\link[=ems_solve]{ems_solve()}}.
}
\examples{
# Simple swap and shock
# numeraire shock
numeraire_shock <- ems_shock(var = "pfactwld",
                             type = "uniform",
                             value = 0.5)
# internal Tablo file "GTAPv7.0" with standard variable omissions and 
# standard closure implicitly selected
ems_model(tab_file = "GTAPv7.0", 
          var_omit = c("atall", "avaall", "tfe", "tfd", "tfm", "tgd", "tgm", 
                       "tpdall", "tpmall", "tid", "tim"),
          shock = numeraire_shock)
            
# Mixed multiple swaps and shocks
qfd_shk <- ems_shock(var = "qfd",
                     type = "uniform",
                     input = 1,
                     REGr = "lam",
                     ACTSa = "crops")

yp_in <- ems_swap(var = "yp")
dppriv_out <- ems_swap(var = "dppriv")

yp_shk <- ems_shock(var = "yp",
                    type = "uniform",
                    input = 1)

ems_model(
  tab_file = "GTAP-REv1",
  var_omit = c(
    "atall",
    "avaall",
    "tfe",
    "tfm",
    "tgd",
    "tgm",
    "tid",
    "tim"
  ),
  shock = list(qfd_shk, yp_shk),
  swap_in = list("qfd", yp_in),
  swap_out = list("tfd", dppriv_out)
)
            
}
\seealso{
\code{\link[=ems_swap]{ems_swap()}} for loading both full variable swaps as well as
element-specific swaps.

\code{\link[=ems_shock]{ems_shock()}} for loading a variety of shock types.

\code{\link[=ems_deploy]{ems_deploy()}} for loading the output of this function.
}
