% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/teems_model.R
\name{teems_model}
\alias{teems_model}
\title{Load general model specifications}
\usage{
teems_model(
  tab_file,
  var_omit = NULL,
  closure_file = NULL,
  swap_in = NULL,
  swap_out = NULL,
  shock_file = NULL,
  shock = NULL,
  ndigits = 6L,
  full_exclude = c("DREL", "DVER", "XXCR", "XXCD", "XXCP", "SLUG", "EFLG"),
  notes = NULL,
  quiet = FALSE
)
}
\arguments{
\item{tab_file}{Character of length 1, path to a local Tablo model file or
selection of an internal Tablo file. Currently supported internal Tablo
model files can be viewed with ().}

\item{var_omit}{A character vector (default is \code{NULL}). Variables to be
removed from the Tablo model file as well as from the designated closure
(if present).}

\item{closure_file}{A character of length 1 (default is \code{NULL}). File name in
working directory or path to a ".cls" closure file.}

\item{swap_in}{Character vector (default is \code{NULL}), or \code{swap} object created
by \code{\link[=teems_swap]{teems_swap()}}, or a list of any combination of character vectors and
swap objects. Represents model variable or variables to be made exogenous.}

\item{swap_out}{Character vector (default is \code{NULL}), or \code{swap} object created
by \code{\link[=teems_swap]{teems_swap()}}, or a list of any combination of character vectors and
swap objects. Represents model variable or variables to be made endogenous.}

\item{shock_file}{Character of length 1, file name in working
directory or path to a csv representing the final shock file. No
checks or modifications will be conducted on this file.}

\item{shock}{A \code{shock} object or in the case of multiple shocks, list of
objects produced by \code{\link[=teems_shock]{teems_shock()}} (default is \code{NULL}). In the
case of \code{NULL}, a \code{NULL} shock will be carried out which effectively returns
the base data.}

\item{ndigits}{Integer (default is \code{6}). Exact number of digits to the right
of the decimal point to be written to file for numeric type double (GEMPack
equivalent "real"). This value is passed to the \code{format()} nsmall argument
and \code{round()} digits argument.}

\item{full_exclude}{A character vector (default is \code{c("DREL", "DVER", "XXCR", "XXCD", "XXCP", "SLUG", "EFLG")}). Specifies headers to fully exclude from
all aspects of the model run. Failure to designate these headers properly
will result in errors because some headers cannot be aggregated or mapped.
Modify with caution.}

\item{notes}{Character string (default is \code{NULL}). If not \code{NULL} notes will
be written to a .txt file within the model-specific directory generated by
\code{\link[=teems_deploy]{teems_deploy()}}.}

\item{quiet}{Logical of length 1 (default is \code{FALSE}). If \code{TRUE},
function-specific diagnostics are silenced.}
}
\value{
A list of general model configuration options to be passed to the
\code{model_config} argument of \code{\link[=teems_deploy]{teems_deploy()}}.
}
\description{
\code{teems_model()} loads general model specifications, conducts
pre-pipeline checks, and determines temporal dynamics. The output of this
function is a required input to the \code{"model_config"} argument within the
\code{\link[=teems_deploy]{teems_deploy()}} function.

Learn more about this function including Tablo file limitations in
\code{vignette("something")}
}
\details{
\code{teems_model()} return values have no purpose used in isolation and
are rather combined with user inputs in other \code{teems} package functions
within \code{\link[=teems_deploy]{teems_deploy()}} to produce a path-dependent pipeline resulting in
solver-ready input files for \code{\link[=teems_solve]{teems_solve()}}.
}
\examples{
# Simple swap and shock
numeraire_shock <- teems_shock(var = "pfactwld",
                               type = "uniform",
                               value = 0.5)
teems_model(tab_file = "GTAPv7.0",
            var_omit = c("atall", "avaall", "tfe", "tfd", "tfm", "tgd", "tgm", 
                         "tpdall", "tpmall", "tid", "tim"),
            shock = numeraire_shock,
            notes = "Numeraire shock on the standard GTAPv7.0 closure.")
            
# Mixed multiple swaps and shocks
lam_qgdp <- teems_swap(var = "qgdp",
                       REGr = "lam")
lam_aoreg <- teems_swap(var = "aoreg",
                        REGr = "lam")
lam_qgdp_shock <- teems_shock(var = "qgdp",
                              REGr = "lam",
                              type = "uniform",
                              value = 2)
y_shock <- teems_shock(var = "y",
                       type = "uniform",
                       value = 1.5)
teems_model(tab_file = "GTAP-INTv1",
            var_omit = c("atall", "tfd", "avaall", "tf", "tfm",
                         "tgd", "tgm", "tpd", "tpm"),
            swap_in = list(lam_qgdp, "y"),
            swap_out = list(lam_aoreg, "incomeslack"),
            shock = list(lam_qgdp_shock, y_shock),
            notes = "Element-specific swap and full variable swap with shock to 
            the 'lam' element in set 'REGr' on the 'qgdp' exogenous variable.")
            
}
\seealso{
\code{\link[=teems_deploy]{teems_deploy()}} for loading the output of this function.
}
